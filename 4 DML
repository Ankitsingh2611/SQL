CREATE DATABASE temp;

use temp;

CREATE DATABASE Customer (
    CUSTOMER_ID INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    FIRST_NAME CHAR(25),
    LAST_NAME CHAR(25),
    SALARY INT(15),
    JOINING_DATE DATETIME,
    DEPARTMENT VARCHAR(50)
    );

INSERT INTO Customer(CUSTOMER_ID, FIRST_NAME, LAST_NAME, SALARY)
VALUES 
(1, 'John', 'Doe', 50000),
(2, 'Jane', 'Doe', 60000),
(3, 'John', 'Smith', 70000);


INSERT INTO Customer VALUES (1, 'John');
//UPDATE
UPDATE Customer SET LAST_NAME='SMITH', SALARY=70000 WHERE ID =1;
//UPDATE MULTIPLE ROW
SET SQL_SAFE_UPDATES =0;
UPDATE Customer SET SALARY = 70000;





//DELETE
DELETE FROM Customer WHERE CUSTOMER_ID = 1;
//DELETE MULTIPLE ROW
SET SQL_SAFE_UPDATES =0;
DELETE FROM Customer WHERE CUSTOMER_ID = 1 OR CUSTOMER_ID = 2;
//DELETE TABLE 
SET SQL_SAFE_UPDATES =0;
DELETE FROM Customer;

//ON DELETE CASCADE
CREATE DATABASE order_detail (
    ORDER_ID INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    delhivery_data DATE,
    CUST_ID int, 
    FOREIGN KEY (CUST_ID) REFERENCES Customer(CUSTOMER_ID) ON DELETE CASCADE
    );
 
 INSERT INTO order_detail
 VALUES(1, '2020-01-01', 1);
 SELECT * FROM order_detail;
 DELETE FROM Customer WHERE CUSTOMER_ID = 1;

 //ON DELETE SET NULL
CREATE DATABASE order_detail (
    ORDER_ID INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    delhivery_data DATE,
    CUST_ID int, 
    FOREIGN KEY (CUST_ID) REFERENCES Customer(CUSTOMER_ID) ON DELETE SET NULL
    );
 
 INSERT INTO order_detail
 VALUES(1, '2020-01-01', 1);
 SELECT * FROM order_detail;
 DELETE FROM Customer WHERE CUSTOMER_ID = 1;




//REPLACE
REPLACE INTO Customer (CUSTOMER_ID, FIRST_NAME, LAST_NAME, SALARY) VALUES (
    1, 'John', 'Doe', 50000);
 //REPLACE MULTIPLE ROW
 SET SQL_SAFE_UPDATES =0;
 REPLACE INTO Customer (CUSTOMER_ID, FIRST_NAME, LAST_NAME, SALARY) VALUES (
    1, 'John', 'Doe', 50000),
    (2, 'Jane', 'Doe', 60000);
    